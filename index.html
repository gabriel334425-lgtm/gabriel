<!DOCTYPE html>
<html lang="zh-CN" class="bg-[#020204] scroll-smooth">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
    <!-- 关键元标签：SEO+性能+兼容性 -->
    <meta name="author" content="郭毅峰" />
    <meta name="description" content="郭毅峰的个人作品集 | GYF Portfolio" />
    <meta name="keywords" content="郭毅峰,作品集,前端开发,3D可视化,创意设计" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='90' font-size='90'>GYF</text></svg>" />
    <title>郭毅峰 | GYF Portfolio</title>

    <!-- Tailwind CSS CDN + 预加载 -->
    <link rel="preload" href="https://cdn.tailwindcss.com" as="script" />
    <script src="https://cdn.tailwindcss.com" defer></script>

    <!-- 字体预加载+preconnect 优化加载速度 -->
    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Six+Caps&family=Inter:wght@100;300;400;600;700;900&family=Noto+Sans+SC:wght@300;400;700;900&family=Playfair+Display:ital,wght@0,400;0,700;0,900;1,400&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'" />
    <noscript><link href="https://fonts.googleapis.com/css2?family=Six+Caps&family=Inter:wght@100;300;400;600;700;900&family=Noto+Sans+SC:wght@300;400;700;900&family=Playfair+Display:ital,wght@0,400;0,700;0,900;1,400&display=swap" rel="stylesheet" /></noscript>

    <!-- Tailwind 配置 -->
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              accent: '#FF3333',
              brandOrange: '#FF4400',
              dark: '#020204', // Deep Starry Black
              darklighter: '#0A0A10' // Slightly lighter, cool-toned black
            },
            fontFamily: {
              sans: ['Inter', 'Noto Sans SC', 'sans-serif'],
              serif: ['Playfair Display', 'serif'],
              bg: ['Six Caps', 'sans-serif'],
              sudo: ['Sudo', 'sans-serif'] // 新增自定义字体别名
            },
            animation: {
              'spin-slow': 'spin 20s linear infinite',
              'marquee': 'marquee 25s linear infinite',
              'noise': 'noise 0.2s steps(2) infinite' // 抽离动画到tailwind，支持复用
            },
            keyframes: {
              marquee: {
                '0%': { transform: 'translateX(0%)' },
                '100%': { transform: 'translateX(-100%)' },
              },
              noise: { // 抽离noise动画到tailwind配置
                '0%': { transform: 'translate(0,0)' },
                '10%': { transform: 'translate(-5%,-5%)' },
                '20%': { transform: 'translate(-10%,5%)' },
                '30%': { transform: 'translate(5%,-10%)' },
                '40%': { transform: 'translate(-5%,15%)' },
                '50%': { transform: 'translate(-10%,5%)' },
                '60%': { transform: 'translate(15%,0)' },
                '70%': { transform: 'translate(0,10%)' },
                '80%': { transform: 'translate(-15%,0)' },
                '90%': { transform: 'translate(10%,5%)' },
                '100%': { transform: 'translate(5%,0)' }
              }
            }
          }
        }
      }
    </script>

    <!-- 自定义样式：精简+性能优化+语义化 -->
    <style>
      /* 自定义字体 Sudo - 增加字体显示容错 */
      @font-face {
        font-family: 'Sudo';
        src: url('https://osjktzwgjlluqjifhxpa.supabase.co/storage/v1/object/sign/protfolio/66670969d30648d8e967997c_Sudo.ttf?token=eyJraWQiOiJzdG9yYWdlLXVybC1zaWduaW5nLWtleV8xNTg5OTEyYS1lYTBlLTRhOTYtYTIzZC1iY2RmMmM2ZDNhNTIiLCJhbGciOiJIUzI1NiJ9.eyJ1cmwiOiJwcm90Zm9saW8vNjY2NzA5NjlkMzA2NDhkOGU5Njc5OTdjX1N1ZG8udHRmIiwiaWF0IjoxNzY4ODEzODAxLCJleHAiOjE4MDAzNDk4MDF9.PijtCC_WFtprXXLQdzWSjF0bxIu_VzmMKv3DgIbAztU') format('truetype');
        font-weight: normal;
        font-style: normal;
        font-display: swap; /* 关键：字体加载时不闪烁，提升体验 */
      }

      /* 全局滚动条隐藏 - 整合为单类名，兼容所有浏览器 */
      .no-scrollbar {
        -ms-overflow-style: none;
        scrollbar-width: none;
        &::-webkit-scrollbar { display: none; }
      }

      /* 文字描边 - 扩展多权重，支持复用 */
      .text-stroke { -webkit-text-stroke: 1px #000; }
      .text-stroke-white { -webkit-text-stroke: 1px rgba(255,255,255,0.3); }
      .text-stroke-white-sm { -webkit-text-stroke: 0.5px rgba(255,255,255,0.5); }

      /* 宇宙星空背景 - 优化背景性能，减少重绘 */
      .cosmos-bg {
        background-color: #000;
        background-image:
          radial-gradient(white, rgba(255,255,255,.2) 2px, transparent 40px),
          radial-gradient(white, rgba(255,255,255,.15) 1px, transparent 30px),
          radial-gradient(white, rgba(255,255,255,.1) 2px, transparent 20px);
        background-size: 550px 550px, 350px 350px, 250px 250px;
        background-position: 0 0, 40px 60px, 130px 270px;
        background-attachment: fixed; /* 固定背景，滚动不重绘，大幅提升性能 */
        box-shadow: inset 0 0 200px rgba(0,0,0,0.8);
      }

      /* 噪点层 - 精简样式，动画移至tailwind配置 */
      .noise-overlay {
        position: fixed;
        inset: -50%; /* 替代top/left/width/height，更简洁 */
        pointer-events: none;
        z-index: 9999;
        opacity: 0.05;
        background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
        mix-blend-mode: overlay;
      }

      /* Lenis 平滑滚动 - 保留原版，无修改 */
      html.lenis, html.lenis body { height: auto; }
      .lenis.lenis-smooth { scroll-behavior: auto !important; }
      .lenis.lenis-smooth [data-lenis-prevent] { overscroll-behavior: contain; }
      .lenis.lenis-stopped { overflow: hidden; }
      .lenis.lenis-scrolling iframe { pointer-events: none; }

      /* 全局基础样式 - 重置点击高亮，优化交互 */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        -webkit-tap-highlight-color: transparent;
        outline: none;
      }
      body {
        cursor: default;
        color: #ffffff;
        min-height: 100vh;
      }
    </style>

    <!-- ES Module 依赖映射 - 优化路径，补充缺失依赖 -->
    <script type="importmap">
      {
        "imports": {
          "react": "https://aistudiocdn.com/react@^19.2.1",
          "react/": "https://aistudiocdn.com/react@^19.2.1/",
          "react-dom": "https://aistudiocdn.com/react-dom@^19.2.1",
          "react-dom/": "https://aistudiocdn.com/react-dom@^19.2.1/",
          "lucide-react": "https://aistudiocdn.com/lucide-react@^0.555.0",
          "@react-three/fiber": "https://aistudiocdn.com/@react-three/fiber@^9.4.2",
          "@react-three/drei": "https://aistudiocdn.com/@react-three/drei@^10.7.7",
          "@react-three/postprocessing": "https://esm.sh/@react-three/postprocessing@2.16.2?external=react,react-dom,three,postprocessing",
          "three": "https://esm.sh/three@0.181.2",
          "three/": "https://esm.sh/three@0.181.2/",
          "troika-three-text": "https://esm.sh/troika-three-text@^0.52.4",
          "gsap": "https://esm.sh/gsap@3.14.2",
          "gsap/": "https://esm.sh/gsap@^3.14.2/",
          "lenis": "https://unpkg.com/lenis@1.1.20/dist/lenis.mjs",
          "postprocessing": "https://esm.sh/postprocessing@6.36.0",
          // Three.js 扩展加载器 - 统一路径格式，增加容错
          "three/addons/loaders/GLTFLoader": "https://esm.sh/three@0.181.2/examples/jsm/loaders/GLTFLoader?external=three",
          "three/addons/loaders/RGBELoader": "https://esm.sh/three@0.181.2/examples/jsm/loaders/RGBELoader?external=three",
          "three/addons/loaders/FontLoader": "https://esm.sh/three@0.181.2/examples/jsm/loaders/FontLoader?external=three",
          "three/addons/geometries/TextGeometry": "https://esm.sh/three@0.181.2/examples/jsm/geometries/TextGeometry?external=three",
          "three/addons/controls/OrbitControls": "https://esm.sh/three@0.181.2/examples/jsm/controls/OrbitControls?external=three",
          "three/addons/postprocessing/EffectComposer": "https://esm.sh/three@0.181.2/examples/jsm/postprocessing/EffectComposer?external=three",
          "three/addons/postprocessing/RenderPass": "https://esm.sh/three@0.181.2/examples/jsm/postprocessing/RenderPass?external=three",
          "three/addons/postprocessing/UnrealBloomPass": "https://esm.sh/three@0.181.2/examples/jsm/postprocessing/UnrealBloomPass?external=three",
          "three/addons/postprocessing/OutputPass": "https://esm.sh/three@0.181.2/examples/jsm/postprocessing/OutputPass?external=three",
          "three/addons/postprocessing/ShaderPass": "https://esm.sh/three@0.181.2/examples/jsm/postprocessing/ShaderPass?external=three",
          "three/addons/shaders/GammaCorrectionShader": "https://esm.sh/three@0.181.2/examples/jsm/shaders/GammaCorrectionShader?external=three"
        }
      }
    </script>
  </head>

  <body class="cosmos-bg no-scrollbar antialiased">
    <div class="noise-overlay animate-noise"></div>
    <div id="root" class="relative z-10"></div>
    <!-- 脚本移至body底部，加defer确保DOM加载完成 -->
    <script type="module" src="/index.tsx" defer></script>
  </body>
</html>
